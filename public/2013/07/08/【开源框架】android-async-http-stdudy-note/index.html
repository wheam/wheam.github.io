<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>【开源框架】android-async-http stdudy note | wheam</title>
  <meta name="author" content="wheam">
  
  <meta name="description" content="首先容我先挖个坑，先只讲怎么用，后面有时间会把这个开源框架的研究补上。
android-async-http 的主页：http://loopj.com/android-async-http/
android-async-http 的github主页：https://github.com/loopj/android-async-http
本文参考博客之一：http://blog.csdn.net/tangren03/article/details/8824081
其实关于所有的使用方法，在此框架的主页上都有了，只不过是英文的，我来点流行的步骤分解法，三步即可使用此框架">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <meta property="og:title" content="【开源框架】android-async-http stdudy note"/>
  <meta property="og:site_name" content="wheam"/>

  
    <meta property="og:image" content="undefined"/>
  

  <link href="/favicon.png" rel="icon">
  <link rel="alternate" href="/atom.xml" title="wheam" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  
</head>


<body>
  <header id="header" class="inner"><div class="alignleft">
  <h1><a href="/">wheam</a></h1>
  <h2><a href="/">What I do that defines me</a></h2>
</div>
<nav id="main-nav" class="alignright">
  <ul>
    
      <li><a href="/">Home</a></li>
    
      <li><a href="/archives">Archives</a></li>
    
      <li><a href="/about">About</a></li>
    
  </ul>
  <div class="clearfix"></div>
</nav>
<div class="clearfix"></div></header>
  <div id="content" class="inner">
    <div id="main-col" class="alignleft"><div id="wrapper"><article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2013-07-08T15:28:00.000Z"><a href="/2013/07/08/【开源框架】android-async-http-stdudy-note/">Jul 8 2013</a></time>
      
      
  
    <h1 class="title">【开源框架】android-async-http stdudy note</h1>
  

    </header>
    <div class="entry">
      
        <p>首先容我先挖个坑，先只讲怎么用，后面有时间会把这个开源框架的研究补上。</p>
<p>android-async-http 的主页：<a href="http://loopj.com/android-async-http/" target="_blank"><a href="http://loopj.com/android-async-http/">http://loopj.com/android-async-http/</a></a></p>
<p>android-async-http 的github主页：<a href="https://github.com/loopj/android-async-http" target="_blank"><a href="https://github.com/loopj/android-async-http">https://github.com/loopj/android-async-http</a></a></p>
<p>本文参考博客之一：<a href="http://blog.csdn.net/tangren03/article/details/8824081" target="_blank"><a href="http://blog.csdn.net/tangren03/article/details/8824081">http://blog.csdn.net/tangren03/article/details/8824081</a></a></p>
<p>其实关于所有的使用方法，在此框架的主页上都有了，只不过是英文的，我来点流行的步骤分解法，三步即可使用此框架<br><a id="more"></a></p>
<p>【步骤1】通过主页或者github下载最新的jar</p>
<p>//这一步实在太简单了，不说了</p>
<p>【步骤2】将jar作为lib加入到你的项目中</p>
<p>//此处详解android studio中导入jar作为lib的方法</p>
<p>1、将你的jar拷贝到项目文件夹的lib下</p>
<p><a href="http://wheam.me/wp-content/uploads/2013/07/asynchttp1.jpg" target="_blank"><img src="http://wheam.me/wp-content/uploads/2013/07/asynchttp1.jpg" alt="asynchttp1"></a></p>
<p>&nbsp;</p>
<p>2、打开file - project structure-libs 确认jar已经导入，否则使用“+”号添加</p>
<p><a href="http://wheam.me/wp-content/uploads/2013/07/asynchttp2.jpg" target="_blank"><img src="http://wheam.me/wp-content/uploads/2013/07/asynchttp2.jpg" alt="asynchttp2"></a></p>
<p>3、打开你的build.gradle，在dependencies加入如下代码</p>
<p>&nbsp;</p>
<div class="source" style="font-family: undefined; color: #dcdccc; background-color: #3f3f3f;"><span style="color: #dcdccc;">dependencies</span> <span style="color: #dcdccc;">{</span><br>    <span style="color: #dcdccc;">compile</span> <span style="color: #efef8f;">files</span>(<span style="color: #dcdccc;">&#39;</span><span style="color: #dcdccc;">libs</span><span style="color: #dcdccc;">/</span><span style="color: #dcdccc;">android</span><span style="color: #dcdccc;">-</span><span style="color: #dcdccc;">support</span><span style="color: #dcdccc;">-</span><span style="color: #dcdccc;">v4</span><span style="color: #dcdccc;">.</span><span style="color: #efef8f;">jar</span><span style="color: #dcdccc;">&#39;</span>)<br>    <span style="color: #dcdccc;">compile</span> <span style="color: #efef8f;">files</span>(<span style="color: #dcdccc;">&#39;</span><span style="color: #dcdccc;">libs</span><span style="color: #dcdccc;">/</span><span style="color: #dcdccc;">android</span><span style="color: #dcdccc;">-</span><span style="color: #dcdccc;">async</span><span style="color: #dcdccc;">-</span><span style="color: #dcdccc;">http</span><span style="color: #dcdccc;">-</span><span style="color: #c0bed1;">1.4</span><span style="color: #dcdccc;">.</span><span style="color: #8cd0d3;">3</span><span style="color: #dcdccc;">.</span><span style="color: #efef8f;">jar</span><span style="color: #dcdccc;">&#39;</span>)<br>    <span style="color: #7f9f7f;">//或者你想偷懒可以只写下面这一句，所有libs文件下的jar都会被编译</span><br>    <span style="color: #dcdccc;">compile</span> <span style="color: #efef8f;">fileTree</span>(<span style="color: #dfcfaf; text-decoration: underline;">dir:</span> <span style="color: #cc9393;">“libs”</span><span style="color: #dcdccc;">,</span> <span style="color: #dfcfaf; text-decoration: underline;">include:</span> <span style="color: #cc9393;">&quot;*.jar&quot;</span>)<br><br><span style="color: #dcdccc;">}</span><br><br></div>

<p>4、在你的项目文件夹下通过命令行clean你的gradlew，如不完成，代码虽然能编译，但是会报NoClassDefFoundError，输入以下命令即可</p>
<p>windows   &quot;你的android studio安装路径\sdk\tools\templates\gradle\wrapper\gradlew.bat&quot; clean  记住路径的双引号是必须的</p>
<p>Mac： 在项目文件夹下使用命令 ./gradlew clean</p>
<p><a href="http://wheam.me/wp-content/uploads/2013/07/asynchttp3.jpg" target="_blank"><img src="http://wheam.me/wp-content/uploads/2013/07/asynchttp3.jpg" alt="asynchttp3"></a></p>
<p>5、重新打开你的android studio</p>
<p>【步骤3】拟写十分简单的代码即可使用</p>
<div class="source" style="font-family: undefined; color: #dcdccc; background-color: #3f3f3f;"><span style="color: #7f9f7f;">//使用AsyncHttpClient类新建其实例</span><br>        <span style="color: #dcdccc;">AsyncHttpClient</span> <span style="color: #dcdccc;">asyncHttpClient</span> <span style="color: #dcdccc;">=</span> <span style="color: #e3ceab;">new</span> <span style="color: #dcdccc;">AsyncHttpClient</span>();<br>        <span style="color: #7f9f7f;">//使用AsyncHttpClient的get方法，其中传入的第一个参数为你需要get的url，这里的url是跑不了的，第二个参数为控制句柄</span><br>        <span style="color: #7f9f7f;">//根据实际情况可以选择不一样的对象来对应不同的使用场景，具体类型参照主页说明，这里只演示返回json的</span><br>        <span style="color: #dcdccc;">asyncHttpClient</span><span style="color: #dcdccc;">.</span><span style="color: #efef8f;">get</span>(<span style="color: #cc9393;">&quot;<a href="http://wheam.me" target="_blank">http://wheam.me</a>&quot;</span><span style="color: #dcdccc;">,</span><span style="color: #e3ceab;">new</span> <span style="color: #dcdccc;">JsonHttpResponseHandler</span><span style="color: #dcdccc;">(){</span><br>            <span style="color: #dcdccc;">@Override</span><br>            <span style="color: #efefaf; font-weight: bold;">public</span> <span style="color: #dfdfbf; font-weight: bold;">void</span> <span style="color: #efef8f;">onSuccess</span>(<span style="color: #dcdccc;">JSONObject</span> <span style="color: #dcdccc;">jsonObject</span>) <span style="color: #dcdccc;">{</span><br>                <span style="color: #7f9f7f;">//onSuccess是成功返回结果时候回调的，其中的参数即为返回结果</span><br>                <span style="color: #efefaf; font-weight: bold;">super</span><span style="color: #dcdccc;">.</span><span style="color: #efef8f;">onSuccess</span>(<span style="color: #dcdccc;">jsonObject</span>);<br>                <span style="color: #e3ceab;">try</span> <span style="color: #dcdccc;">{</span><br>                    <span style="color: #dcdccc;">textview</span><span style="color: #dcdccc;">.</span><span style="color: #efef8f;">setText</span>(<span style="color: #dcdccc;">jsonObject</span><span style="color: #dcdccc;">.</span><span style="color: #efef8f;">getString</span>(<span style="color: #cc9393;">“title”</span>));<br>                <span style="color: #dcdccc;">}</span> <span style="color: #e3ceab;">catch</span> (<span style="color: #dcdccc;">JSONException</span> <span style="color: #dcdccc;">e</span>) <span style="color: #dcdccc;">{</span><br>                    <span style="color: #dcdccc;">e</span><span style="color: #dcdccc;">.</span><span style="color: #efef8f;">printStackTrace</span>();<br>                <span style="color: #dcdccc;">}</span><br>            <span style="color: #dcdccc;">}</span><br>        <span style="color: #dcdccc;">});</span></div>
      
    </div>
    <footer>
      
        
  
  <div class="categories">
    <a href="/categories/android/">android</a>
  </div>

        
        
  <div class="addthis addthis_toolbox addthis_default_style">
    
      <a class="addthis_button_facebook_like" fb:like:layout="button_count"></a>
    
    
      <a class="addthis_button_tweet"></a>
    
    
      <a class="addthis_button_google_plusone" g:plusone:size="medium"></a>
    
    
    <a class="addthis_counter addthis_pill_style"></a>
  </div>
  <script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js"></script>

      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>


<section id="comment">
  <!-- Duoshuo Comment BEGIN -->
	<div class="ds-thread"></div>
<script type="text/javascript">
var duoshuoQuery = {short_name:"wheam"};
	(function() {
		var ds = document.createElement('script');
		ds.type = 'text/javascript';ds.async = true;
		ds.src = 'http://static.duoshuo.com/embed.js';
		ds.charset = 'UTF-8';
		(document.getElementsByTagName('head')[0] 
		|| document.getElementsByTagName('body')[0]).appendChild(ds);
	})();
	</script>
<!-- Duoshuo Comment END -->
</section>
</div></div>
    <aside id="sidebar" class="alignright">
  <div class="search">
  <form action="//google.com/search" method="get" accept-charset="utf-8">
    <input type="search" name="q" results="0" placeholder="Search">
    <input type="hidden" name="q" value="site:wheam.github.io">
  </form>
</div>

  
<div class="widget tag">
  <h3 class="title">Categories</h3>
  <ul class="entry">
  
    <li><a href="/categories/android/">android</a><small>8</small></li>
  
    <li><a href="/categories/java/">java</a><small>2</small></li>
  
    <li><a href="/categories/原创/">原创</a><small>2</small></li>
  
    <li><a href="/categories/心情/">心情</a><small>9</small></li>
  
  </ul>
</div>


  <iframe width="100%" height="600" class="share_self"  frameborder="0" scrolling="no" src="http://widget.weibo.com/weiboshow/index.php?language=&width=0&height=600&fansRow=2&ptype=1&speed=0&skin=5&isTitle=1&noborder=0&isWeibo=0&isFans=0&uid=1826358844&verifier=b2640eff&dpc=1"></iframe>
</aside>
    <div class="clearfix"></div>
  </div>
  <footer id="footer" class="inner"><div class="alignleft">
  
  &copy; 2013 wheam
  
</div>
<div class="clearfix"></div></footer>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>




<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>

</body>
</html>